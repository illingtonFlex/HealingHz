<!DOCTYPE html>
<html ng-app="HealingHz-CurriculumUI" lang="en-US">
    <head>
        <title>HealingHz.us - Bionic Ear Trainer</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta name=”description” content="An online training tool for rehabilitating pitch perception for cochlear implant recipients">
        <link rel="stylesheet" href="healingHz.css">
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Antic" />
        <link rel="stylesheet" href="./scripts/lib/bootstrap-3.3.6.min.css">
        <script src="./scripts/lib/jquery-1.12.0.min.js"></script>
        <script src="./scripts/lib/bootstrap-3.3.6.min.js"></script>
        <script src="./scripts/lib/easeljs-0.8.0.min.js" type="text/javascript"></script>
        <script src="./scripts/lib/soundjs-0.6.2.min.js" type="text/javascript"></script>
        <script src="./scripts/lib/tweenjs-0.6.2.min.js" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.js"></script>
        <script>document.write("<base href=\"" + document.location + "\" />");</script>
        <script src="./scripts/all.min.js" type="text/javascript"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-78378840-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script>
            console.log( "YO!" + window.location.search);
            var App = angular.module('HealingHz-CurriculumUI', []);

            App.controller('CurriculumCtrl', function($scope, $http) {
                $http.get('./curriculums.json')
                    .then(function(res){
                        $scope.curriculums = res.data;
                    });
            });
        </script>
    </head>
    <body ng-controller="CurriculumCtrl">
        <audio id="HealingHzAudio" preload="auto"></audio>
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <ul class="nav navbar-nav navbar-brand-dropdown">
                        <li class="dropdown">
                            <a href="#" class="navbar-brand dropdown-toggle upFivePixels" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                <img height="30px" width="30px" src="./img/hamburger.png">
                            </a>
                            <ul class="dropdown-menu dropdown-brand">
                                <li class="healingHzText"><a href="#" data-toggle="modal" data-target="#myModal">View Curriculums</a></li>
                                <!-- li><a href="#">Another action</a></li>
                                <li><a href="#">Something else here</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#">Separated link</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#">One more separated link</a></li -->
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog modal-sm\\lg">
                <div class="modal-content">
                    <div class="modal-header genericModalHeader">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Select a curriculum</h4>
                    </div>
                    <div class="modal-body">
                        <table width="100%" class="healingHzText">
                            <tr>
                                <th>Curriculum Name</th>
                                <th># tones per chord</th>
                                <th>Curriculum length</th>
                                <th>Difficulty</th>
                            </tr>
                            <tr ng-repeat="curriculum in curriculums">
                                <td>{{curriculum.name}}</td>
                                <td>&nbsp;</td>
                                <td>{{curriculums.length}}</td>
                                <td>{{curriculum.difficulty}}</td>
                            </tr>
                            <!-- tr>
                                <td>
                                <div class="radio">
                                    <label><input type="radio" name="optradio">Major Triads</label>
                                </div>
                                </td>
                                <td>3</td>
                                <td>10</td>
                                <td>Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Minor Triads</label>
                                    </div>
                                </td>
                                <td>3</td>
                                <td>10</td>
                                <td>Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Mixed Triads</label>
                                    </div>
                                </td>
                                <td>3</td>
                                <td>10</td>
                                <td>Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Major7 Chords</label>
                                    </div>
                                </td>
                                <td>4</td>
                                <td>10</td>
                                <td>More Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Minor7 Chords</label>
                                    </div>
                                </td>
                                <td>4</td>
                                <td>10</td>
                                <td>More Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Mixed 7 Chords</label>
                                    </div>
                                </td>
                                <td>4</td>
                                <td>10</td>
                                <td>More Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Chromatic Scales</label>
                                    </div>
                                </td>
                                <td>5</td>
                                <td>10</td>
                                <td>Most Challenging</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio">Mixed Chords</label>
                                    </div>
                                </td>
                                <td>Mixed</td>
                                <td>10</td>
                                <td>Most Challenging</td>
                            </tr -->
                        </table>
                        <hr>
                        <h4 class="modal-title genericModalHeader">Select a voice</h4>

                        <table width="100%">
                            <tr>
                                <td align="center">
                                    <label>
                                        <input type="radio" name="selectedVoice" value="1">
                                        Voice 1 <img height="20px" width="20px" src="./img/play.png">
                                    </label>
                                </td>
                                <td align="center">
                                    <label>
                                        <input type="radio" name="selectedVoice" value="2">
                                        Voice 2 <img height="20px" width="20px" src="./img/play.png">
                                    </label>
                                </td>
                                <td align="center">
                                    <label>
                                        <input type="radio" name="selectedVoice"  value="3">
                                        Voice 3 <img height="20px" width="20px" src="./img/play.png">
                                    </label>
                                </td>
                                <td align="center">
                                    <label>
                                        <input type="radio" name="selectedVoice"  value="4">
                                        Voice 4 <img height="20px" width="20px" src="./img/play.png">
                                    </label>
                                </td>
                                <td align="center">
                                    <label>
                                        <input type="radio" name="selectedVoice"  value="0">
                                        Mixed voices
                                    </label>
                                </td>

                            </tr>
                        </table>

                        <button type="button" class="btn btn-default healingHzText" data-dismiss="modal">Execute Selected Curriculum</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="mainDiv" >
            <p id="healingHzHeader">HealingHz</p>
            <div id="explanationDiv">
                <p class="healingHzText healingHzParagraph">
                    Each of the below colored circles represents a note. The notes together represent a musical chord or scale. Click each circle to hear its corresponding note. Drag each circle into one of the boxes, arranging the notes in ascending order of pitch, with the lowest pitch on the left, and the highest pitch on the right.
                </p>
            </div>
            <div id="canvasDiv">
                <canvas id="healingHzCanvas" width="800" height="400">
                    ERROR! HTML5 canvas not supported!
                </canvas>
            </div>
            
            <div class="modal fade" id="victoryDiv" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content modal-content-success">
                        <div class="modal-header successModalHeader">
                            <h4 class="modal-title">Very good!</h4>
                        </div>
                        <div class="modal-body">
                            <p class="healingHzText">Congratulations, your notes are in the correct order! You can try this puzzle again, or move on to a new puzzle.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" onClick="location.reload();">Try A New Puzzle</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" onClick="HealingHz.reset();">Try This Puzzle Again</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal fade" id="failureDiv" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content modal-content-fail">
                        <div class="modal-header failModalHeader">
                            <h4 class="modal-title">I'm sorry, that is not correct.</h4>
                        </div>
                        <div class="modal-body">
                            <p class="healingHzText">Your notes are not in the correct order. You can try again, or move on to a new puzzle.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" onClick="location.reload();">Try A New Puzzle</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" onClick="HealingHz.reset();">Try This Puzzle Again</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </body>
</html>